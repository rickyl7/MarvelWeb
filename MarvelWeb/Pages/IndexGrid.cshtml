@page
@model IndexGridModel

@{ Layout = null; }

@* Should only include grid declaration *@

@(Html
        .Grid(Model.Characters)
        .Build(columns =>
        {
            columns.Add(model => model.Name).Titled("Name").Sortable(true).InitialSort(GridSortOrder.Asc);
            columns.Add(model => model.Roles.Any(r => r == Entities.Character.RoleEnum.AOE) ? "X" : string.Empty).Named("AOE").Titled("AOE").Sortable(true).FirstSort(GridSortOrder.Desc);
            columns.Add(model => model.Roles.Any(r => r == Entities.Character.RoleEnum.Burst) ? "X" : string.Empty).Named("Burst").Titled("Burst").Sortable(true).FirstSort(GridSortOrder.Desc);
            columns.Add(model => model.Roles.Any(r => r == Entities.Character.RoleEnum.Defense) ? "X" : string.Empty).Named("Defence").Titled("Defence").Sortable(true).FirstSort(GridSortOrder.Desc);
            columns.Add(model => model.Roles.Any(r => r == Entities.Character.RoleEnum.Purge) ? "X" : string.Empty).Named("Purge").Titled("Purge").Sortable(true).FirstSort(GridSortOrder.Desc);
            columns.Add(model => model.Roles.Any(r => r == Entities.Character.RoleEnum.Utility) ? "X" : string.Empty).Named("Utility").Titled("Utility").Sortable(true).FirstSort(GridSortOrder.Desc);
        })
        .Empty("No data found")
        .Id("my-ajax-grid")
        .Filterable()
        .Sortable()
)